{"ast":null,"code":"/*jslint sloppy:true indent:2 plusplus:true regexp:true*/\n\nvar contentPattern = '&&<>&&';\nfunction contentFor(contentName) {\n  return contentPattern + contentName + contentPattern;\n}\nfunction parseContents(locals) {\n  var name,\n    i = 1,\n    str = locals.body,\n    regex = new RegExp('\\r?\\n?' + contentPattern + '.+?' + contentPattern + '\\r?\\n?', 'g'),\n    split = str.split(regex),\n    matches = str.match(regex);\n  locals.body = split[0];\n  if (matches !== null) {\n    matches.forEach(function (match) {\n      name = match.split(contentPattern)[1];\n      locals[name] = split[i];\n      i++;\n    });\n  }\n}\nfunction parseScripts(locals) {\n  var str = locals.body,\n    regex = /\\<script[\\s\\S]*?\\>[\\s\\S]*?\\<\\/script\\>/g;\n  if (regex.test(str)) {\n    locals.body = str.replace(regex, '');\n    locals.script = str.match(regex).join('\\n');\n  }\n}\nfunction parseStyles(locals) {\n  var str = locals.body,\n    regex = /(?:\\<style[\\s\\S]*?\\>[\\s\\S]*?\\<\\/style\\>)|(?:\\<link[\\s\\S]*?\\>(?:\\<\\/link\\>)?)/g;\n  if (regex.test(str)) {\n    locals.body = str.replace(regex, '');\n    locals.style = str.match(regex).join('\\n');\n  }\n}\nfunction parseMetas(locals) {\n  var str = locals.body,\n    regex = /\\<meta[\\s\\S]*?\\>/g;\n  if (regex.test(str)) {\n    locals.body = str.replace(regex, '');\n    locals.meta = str.match(regex).join('\\n');\n  }\n}\nmodule.exports = function (req, res, next) {\n  if (!res.__render) res.__render = res.render;\n  res.render = function (view, options, fn) {\n    var layout,\n      self = this,\n      app = req.app,\n      defaultLayout = app.get('layout');\n    options = options || {};\n    if (typeof options === 'function') {\n      fn = options;\n      options = {};\n    }\n    if (options.layout === false || (options.layout || defaultLayout) === false) {\n      res.__render.call(res, view, options, fn);\n      return;\n    }\n    layout = options.layout || res.locals.layout || defaultLayout;\n    if (layout === true || layout === undefined) {\n      layout = 'layout';\n    }\n    options.contentFor = contentFor;\n    res.__render.call(res, view, options, function (err, str) {\n      var l, locals;\n      if (err) {\n        return fn ? fn(err) : next(err);\n      }\n      locals = {\n        body: str,\n        defineContent: function (contentName) {\n          return locals[contentName] || '';\n        }\n      };\n      for (l in options) {\n        if (options.hasOwnProperty(l) && l !== 'layout' && l !== 'contentFor') {\n          locals[l] = options[l];\n        }\n      }\n      if (typeof locals.body !== 'string') {\n        res.__render.call(self, view, locals, fn);\n        return;\n      }\n      if (options.extractScripts === true || options.extractScripts === undefined && app.get('layout extractScripts') === true) {\n        locals.script = '';\n        parseScripts(locals);\n      }\n      if (options.extractStyles === true || options.extractStyles === undefined && app.get('layout extractStyles') === true) {\n        locals.style = '';\n        parseStyles(locals);\n      }\n      if (options.extractMetas === true || options.extractMetas === undefined && app.get('layout extractMetas') === true) {\n        locals.meta = '';\n        parseMetas(locals);\n      }\n      parseContents(locals);\n      res.__render.call(self, layout, locals, fn);\n    });\n  };\n  next();\n};","map":{"version":3,"names":["contentPattern","contentFor","contentName","parseContents","locals","name","i","str","body","regex","RegExp","split","matches","match","forEach","parseScripts","test","replace","script","join","parseStyles","style","parseMetas","meta","module","exports","req","res","next","__render","render","view","options","fn","layout","self","app","defaultLayout","get","call","undefined","err","l","defineContent","hasOwnProperty","extractScripts","extractStyles","extractMetas"],"sources":["C:/Users/LODI/Documents/PROGRAM/PROJECT_LODI/MERN-WSOTO/frontend/node_modules/express-ejs-layouts/lib/express-layouts.js"],"sourcesContent":["/*jslint sloppy:true indent:2 plusplus:true regexp:true*/\n\nvar contentPattern = '&&<>&&';\n\nfunction contentFor(contentName) {\n  return contentPattern + contentName + contentPattern;\n}\n\nfunction parseContents(locals) {\n  var name, i = 1, str = locals.body,\n    regex = new RegExp('\\r?\\n?' + contentPattern + '.+?' + contentPattern + '\\r?\\n?', 'g'),\n    split = str.split(regex),\n    matches = str.match(regex);\n\n  locals.body = split[0];\n\n  if (matches !== null) {\n    matches.forEach(function (match) {\n      name = match.split(contentPattern)[1];\n      locals[name] = split[i];\n      i++;\n    });\n  }\n}\n\nfunction parseScripts(locals) {\n  var str = locals.body, regex = /\\<script[\\s\\S]*?\\>[\\s\\S]*?\\<\\/script\\>/g;\n\n  if (regex.test(str)) {\n    locals.body = str.replace(regex, '');\n    locals.script = str.match(regex).join('\\n');\n  }\n}\n\nfunction parseStyles(locals) {\n  var str = locals.body, regex = /(?:\\<style[\\s\\S]*?\\>[\\s\\S]*?\\<\\/style\\>)|(?:\\<link[\\s\\S]*?\\>(?:\\<\\/link\\>)?)/g;\n\n  if (regex.test(str)) {\n    locals.body = str.replace(regex, '');\n    locals.style = str.match(regex).join('\\n');\n  }\n}\n\nfunction parseMetas(locals) {\n  var str = locals.body, regex = /\\<meta[\\s\\S]*?\\>/g;\n\n  if (regex.test(str)) {\n    locals.body = str.replace(regex, '');\n    locals.meta = str.match(regex).join('\\n');\n  }\n}\n\nmodule.exports = function (req, res, next) {\n  if(!res.__render) res.__render = res.render;\n\n  res.render = function (view, options, fn) {\n    var layout, self = this, app = req.app,\n      defaultLayout = app.get('layout');\n\n    options = options || {};\n    if (typeof options === 'function') {\n      fn = options;\n      options = {};\n    }\n\n    if (options.layout === false || ((options.layout || defaultLayout) === false)) {\n      res.__render.call(res, view, options, fn);\n      return;\n    }\n\n    layout = options.layout || res.locals.layout || defaultLayout;\n    if (layout === true || layout === undefined) {\n      layout = 'layout';\n    }\n\n    options.contentFor = contentFor;\n    res.__render.call(res, view, options, function (err, str) {\n      var l, locals;\n\n      if (err) { return fn ? fn(err) : next(err); }\n\n      locals = {\n        body: str,\n        defineContent: function(contentName) { return locals[contentName] || ''; }\n      };\n      for (l in options) {\n        if (options.hasOwnProperty(l) && l !== 'layout' && l !== 'contentFor') {\n          locals[l] = options[l];\n        }\n      }\n\n      if (typeof locals.body !== 'string') {\n        res.__render.call(self, view, locals, fn);\n        return;\n      }\n\n      if (options.extractScripts === true || (options.extractScripts === undefined && app.get('layout extractScripts') === true)) {\n        locals.script = '';\n        parseScripts(locals);\n      }\n\n      if (options.extractStyles === true || (options.extractStyles === undefined && app.get('layout extractStyles') === true)) {\n        locals.style = '';\n        parseStyles(locals);\n      }\n\n      if (options.extractMetas === true || (options.extractMetas === undefined && app.get('layout extractMetas') === true)) {\n        locals.meta = '';\n        parseMetas(locals);\n      }\n\n      parseContents(locals);\n      res.__render.call(self, layout, locals, fn);\n    });\n  };\n  next();\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}